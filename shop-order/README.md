# 工程简介
## 现存问题
（非秒杀）新建订单时，如果订单中有多个商品，会在redis中对每个商品库存进行递减操作，但是只有部分商品有库存时，这时应该是返回创建订单失败还是部分成功？

正常应该是会下单成功，然后提醒商家补货吧。现在用reids会导致在部分商品有库存的情况下


---
应该可以这样：
非秒杀的商品在redis中只创建一个goodsid和无货的标识。
在创建普通订单时，先判断是否存在无货商品，如果存在，则总体下单失败
。。。。。

## 网上搜到的库存设计
普通商品在发货时才去更新库存，如果库存不足商家马上补货。
秒杀的商品会在客户下单时就减库存，如果在规定的时间没有付款，会取消此订单把库存还原。
```java

```


# 延伸阅读

